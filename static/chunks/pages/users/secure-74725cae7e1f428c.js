(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[605],{9617:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/secure",function(){return n(4912)}])},4912:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var t=n(5893),r=n(7160),a=n.n(r),c=n(7294),i=n(1664),d=n.n(i),u=n(7902);let l=async()=>{try{let e=await fetch("https://jsonplaceholder.typicode.com/users"),s=200===e.status?await e.json():[];return s}catch(n){return[]}};function o(){let[e,s]=(0,c.useState)(!1),[n,r]=(0,c.useState)([]);return(0,c.useEffect)(()=>{s("admin"===localStorage.getItem("ROLE"))},[]),(0,c.useEffect)(()=>{e&&l().then(e=>{r(e)})},[e]),(0,t.jsxs)(u.Zn,{children:[(0,t.jsx)("h2",{children:"SECURE FETCH"}),(0,t.jsx)(u.ny,{admin:{isAdmin:e,setIsAdmin:s}}),e?(0,t.jsx)("div",{className:a().grid,children:n.length>0?n.map(e=>(0,t.jsx)("div",{className:a().card,id:"user-id-".concat(e.id),children:(0,t.jsxs)(d(),{href:"/users/[id]",as:"/users/".concat(e.id),children:[(0,t.jsxs)("div",{children:["#",e.id,"\xa0",e.name]}),(0,t.jsx)("div",{children:e.email})]})},e.id)):(0,t.jsx)("div",{className:a().card,children:"No data came from server"})}):(0,t.jsx)("div",{children:"You must have admin role to see users data"})]})}}},function(e){e.O(0,[129,902,774,888,179],function(){return e(e.s=9617)}),_N_E=e.O()}]);